
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
    NexHealth
  </title>
  
  <link rel="stylesheet" href="/vite/assets/formio_fullscreen.ea271e70.css" />
  
</head>
<body>
  <script src="/assets/formio.full.min-25902c4a707d75a304b0a7059a53bc58090b57d1e1be5727674ba5a7fecbb529.js"></script>
  <div class="clearfix"></div>
<div id="formio_holder"></div>
<script>
  var isEdited = false
  var theForm
  const formioSchema = {"display":"wizard","components":[{"key":"page1","type":"panel","input":false,"label":"Page 1","title":"Page 1","tableView":false,"components":[{"key":"content","html":"\u003cfigure class=\"image image-style-align-center image_resized\", "type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"content1","html":"\u003cp style=\"text-align:center;\"\u003e\u003cspan class=\"text-big\"\u003e\u003cstrong\u003eRevolution New Patient Intake Form\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e","type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"columns","type":"columns","input":false,"label":"Columns","columns":[{"pull":0,"push":0,"size":"md","width":4,"offset":0,"components":[{"key":"first_name","type":"textfield","input":true,"label":"First Name","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":4,"offset":0,"components":[{"key":"last_name","type":"textfield","input":true,"label":"Last Name","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":4,"offset":0,"components":[{"key":"preferred_name","type":"textfield","input":true,"label":"Preferred Name / Nickname","tableView":true,"hideOnChildrenHidden":false}]}],"tableView":false},{"key":"columns1","type":"columns","input":false,"label":"Columns","columns":[{"pull":0,"push":0,"size":"md","width":4,"offset":0,"components":[{"key":"sex","data":{"values":[{"label":"Male","value":"male"},{"label":"Female","value":"female"},{"label":"Other","value":"other"}]},"type":"select","input":true,"label":"Sex assigned at birth","widget":"choicesjs","validate":{"required":true},"indexeddb":{"filter":{}},"tableView":true,"selectThreshold":0.3,"hideOnChildrenHidden":false},{"key":"other1","type":"textfield","input":true,"label":"Other","hideLabel":true,"tableView":true,"conditional":{"eq":"other","show":true,"when":"3BiologicSexAtBirth"},"placeholder":"Other","hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":4,"offset":0,"components":[{"key":"4GenderIdentity","type":"radio","input":true,"label":"Gender identity","inline":true,"values":[{"label":"Male","value":"male","shortcut":""},{"label":"Female","value":"female","shortcut":""},{"label":"Other","value":"other","shortcut":""}],"validate":{"required":true},"tableView":false,"hideOnChildrenHidden":false,"optionsLabelPosition":"right"},{"key":"other2","type":"textfield","input":true,"label":"Other","validate":{"required":true},"hideLabel":true,"tableView":true,"conditional":{"eq":"other","show":true,"when":"4GenderIdentity"},"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":4,"offset":0,"components":[{"key":"patient_db","type":"textfield","input":true,"label":"DOB","validate":{"pattern":"((0[13578]|1[02])[\\/.](0[1-9]|[12][0-9]|3[01])[\\/.](18|19|20)[0-9]{2})|((0[469]|11)[\\/.](0[1-9]|[12][0-9]|30)[\\/.](18|19|20)[0-9]{2})|((02)[\\/.](0[1-9]|1[0-9]|2[0-8])[\\/.](18|19|20)[0-9]{2})|((02)[\\/.]29[\\/.](((18|19|20)(04|08|[2468][048]|[13579][26]))|2000))","required":true,"customMessage":"Date must be in a MM/dd/yyyy format Example 10/31/1990"},"inputMask":"99/99/9999","tableView":true,"placeholder":"mm/dd/yyyy","hideOnChildrenHidden":false}]}],"tableView":false},{"key":"race","data":{"values":[{"label":"American Indian or Alaska Native","value":"americanIndianOrAlaskaNative"},{"label":"Asian","value":"asian"},{"label":"Black or African American","value":"blackOrAfricanAmerican"},{"label":"Native Hawaiian or Other Pacific Islander","value":"nativeHawaiianOrOtherPacificIslander"},{"label":"White","value":"white"},{"label":"","value":""}]},"type":"select","input":true,"label":"Race","validate":{"required":true},"tableView":true},{"key":"ethnicity","data":{"values":[{"label":"Hispanic or Latino","value":"hispanicOrLatino"},{"label":"Non-Hispanic or Latino","value":"nonHispanicOrLatino"}]},"type":"select","input":true,"label":"Ethnicity","validate":{"required":true},"tableView":true},{"key":"columns2","type":"columns","input":false,"label":"Columns","columns":[{"pull":0,"push":0,"size":"md","width":5,"offset":0,"components":[{"key":"address_1","type":"textfield","input":true,"label":"Street address","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":3,"offset":0,"components":[{"key":"city","type":"textfield","input":true,"label":"City","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":2,"offset":0,"components":[{"key":"state","data":{"values":[{"label":"AL","value":"AL"},{"label":"AK","value":"AK"},{"label":"AZ","value":"AZ"},{"label":"AR","value":"AR"},{"label":"CA","value":"CA"},{"label":"CO","value":"CO"},{"label":"CT","value":"CT"},{"label":"DC","value":"dc"},{"label":"DE","value":"DE"},{"label":"FL","value":"FL"},{"label":"GA","value":"GA"},{"label":"HI","value":"HI"},{"label":"ID","value":"ID"},{"label":"IL","value":"IL"},{"label":"IN","value":"IN"},{"label":"IA","value":"IA"},{"label":"KS","value":"KS"},{"label":"KY","value":"KY"},{"label":"LA","value":"LA"},{"label":"ME","value":"ME"},{"label":"MD","value":"MD"},{"label":"MA","value":"MA"},{"label":"MI","value":"MI"},{"label":"MN","value":"MN"},{"label":"MS","value":"MS"},{"label":"MO","value":"MO"},{"label":"MT","value":"MT"},{"label":"NE","value":"NE"},{"label":"NV","value":"NV"},{"label":"NH","value":"NH"},{"label":"NJ","value":"NJ"},{"label":"NM","value":"NM"},{"label":"NY","value":"NY"},{"label":"NC","value":"NC"},{"label":"ND","value":"ND"},{"label":"OH","value":"OH"},{"label":"OK","value":"OK"},{"label":"OR","value":"OR"},{"label":"PA","value":"PA"},{"label":"RI","value":"RI"},{"label":"SC","value":"SC"},{"label":"SD","value":"SD"},{"label":"TN","value":"TN"},{"label":"TX","value":"TX"},{"label":"UT","value":"UT"},{"label":"VT","value":"VT"},{"label":"VA","value":"VA"},{"label":"WA","value":"WA"},{"label":"VI","value":"VI"},{"label":"WV","value":"WV"},{"label":"WI","value":"WI"},{"label":"WY","value":"WY"}]},"type":"select","input":true,"label":"State","widget":"choicesjs","validate":{"custom":"valid = (input === '' || input.length === 2) ? true : 'Please select a valid State from the dropdown.';","required":true},"indexeddb":{"filter":{}},"tableView":true,"placeholder":"Please select","selectThreshold":0.3,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":2,"offset":0,"components":[{"key":"zip_code","type":"textfield","input":true,"label":"Zip Code","validate":{"required":true},"inputMask":"99999","tableView":true,"hideOnChildrenHidden":false}]}],"tableView":false},{"key":"columns3","type":"columns","input":false,"label":"Columns","columns":[{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"mobile_number","type":"phoneNumber","input":true,"label":"Phone # (mobile preferred)","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"email","type":"email","input":true,"label":"Preferred email","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]}],"tableView":false},{"key":"insurancePolicyName","type":"textfield","input":true,"label":"Insurance policy name","validate":{"required":true},"tableView":true},{"key":"insurancePolicyMemberId","type":"textfield","input":true,"label":"Insurance policy member ID","validate":{"required":true},"tableView":true},{"key":"content2","html":"\u003cp\u003ePlease attach a photo of the front and back of your primary insurance card(s). Or, you can email the photos to info@revolutionmed.com.\u0026nbsp;\u003c/p\u003e\u003cp\u003eSkip this section if you plan to use self-pay or out-of-network reimbursement.\u0026nbsp;\u003c/p\u003e\u003cp\u003eIf you have multiple (secondary) insurance plans or prescription benefit cards, please email your additional cards to info@revolutionmed.com.\u003c/p\u003e","type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"medicalCard2","path":"medicalCard","type":"columns","input":false,"label":"Medical Card","columns":[{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"primary_card_front","type":"file","image":true,"input":true,"label":"Front of Insurance Card","webcam":true,"storage":"base64","redrawOn":"data","fileTypes":[{"label":"","value":""}],"imageSize":"300","tableView":false,"fileMaxSize":"15MB","hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"primary_card_back","type":"file","image":true,"input":true,"label":"Back of Insurance Card","webcam":true,"storage":"base64","redrawOn":"data","fileTypes":[{"label":"","value":""}],"imageSize":"300","tableView":false,"fileMaxSize":"15MB","hideOnChildrenHidden":false}]}],"tableView":false},{"key":"13IfYouHaveMedicareIsMedicareYourPrimaryOrSecondaryInsurance","type":"radio","input":true,"label":"If you have Medicare, is Medicare your primary or secondary insurance?","inline":true,"values":[{"label":"Primary","value":"primary","shortcut":""},{"label":"Secondary","value":"secondary","shortcut":""},{"label":"I don't have Medicare","value":"iDontHaveMedicare","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"weAreInNetworkWithBlueCrossPlansAetnaUnitedCignaSentaraMedicareTricareIfYourPlanIsOutOfNetworkPleaseAcknowledgeOurSelfPayRatesOf250IntakeAppointmentsAnd150FollowUpAppointmentsToBeBilledToYourCardOnFileIfYouHaveAnyInsuranceStatusQuestionsPriorToYourIntakeAppointmentPleaseCallTheFrontDeskAt2025968891OrEmailInfoRevolutionmedCom","type":"radio","input":true,"label":"We are in-network with Blue Cross plans (including CareFirst and Anthem), Aetna, United, Cigna, Sentara, Medicare \u0026 Tricare. If your plan is out of network, please acknowledge our self-pay rates of $250 (intake appointments) and $150 (follow up appointments), to be billed to your card on file. If you have any insurance questions prior to your intake appointment, please call the front desk at (202) 596-8891, or email info@revolutionmed.com.","inline":true,"values":[{"label":"Acknowledged.","value":"acknowledged","shortcut":""},{"label":"If my plan is out of network, please cancel my appointment for now.","value":"ifMyPlanIsOutOfNetworkPleaseCancelMyAppointmentForNow","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"15WhatIsYourPreferredPharmacyPleaseIncludeNameAndAddress","rows":2,"type":"textarea","input":true,"label":"What is your preferred pharmacy? Please include phone # and address.","validate":{"required":true},"tableView":true,"autoExpand":true}]},{"key":"page2","type":"panel","input":false,"label":"Page 2","title":"Page 2","tableView":false,"components":[{"key":"16DoYouKnowYourHealthInsurersPreferredLab","type":"radio","input":true,"label":"Do you know your health insurer's preferred lab?","inline":true,"values":[{"label":"Labcorp","value":"labcorp","shortcut":""},{"label":"Quest","value":"quest","shortcut":""},{"label":"I'm not sure","value":"imNotSure","shortcut":""},{"label":"Other","value":"other","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"other4","type":"textfield","input":true,"label":"other","validate":{"required":true},"hideLabel":true,"tableView":true,"conditional":{"eq":"other","show":true,"when":"16DoYouKnowYourHealthInsurersPreferredLab"}},{"key":"columns4","type":"columns","input":false,"label":"Columns","columns":[{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"17PrimaryCarePhysicianPcp","type":"textfield","input":true,"label":"Primary care physician/PCP","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"phoneNo","type":"phoneNumber","input":true,"label":"PCP Phone No.","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]}],"tableView":false},{"key":"18PleaseListAllSpecialistsThatYouSeeRegularlyAndTheirFiEldOfMedicine","rows":2,"type":"textarea","input":true,"label":"Please list all specialists that you see regularly, and their field of medicine","validate":{"required":true},"tableView":true,"autoExpand":true},{"key":"19HowDidYouHearAboutRevolutionPleaseLetUsKnowIfYouHadASpecificReferralSoWeCanThankThem","type":"textfield","input":true,"label":"How did you hear about Revolution? Please let us know if you had a specific referral, so we can thank them!","validate":{"required":true},"tableView":true},{"key":"20DrugAllergies","type":"radio","input":true,"label":"Drug allergies","inline":true,"values":[{"label":"No known drug allergies","value":"noKnownDrugAllergies","shortcut":""},{"label":"Other","value":"other","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"other5","type":"textfield","input":true,"label":"other","validate":{"required":true},"hideLabel":true,"tableView":true,"conditional":{"eq":"other","show":true,"when":"20DrugAllergies"}},{"key":"content4","html":"\u003cp\u003eWhat conditions have you been diagnosed with in the past?\u003c/p\u003e","type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"content5","html":"\u003cp\u003e\u003ci\u003eCheck all that apply.\u003c/i\u003e\u003c/p\u003e","type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"columns5","type":"columns","input":false,"label":"Columns","columns":[{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"selectBoxes1","type":"selectboxes","input":true,"label":"Select Boxes 1","values":[{"label":"Overweight or obesity","value":"overweightOrObesity","shortcut":""},{"label":"High blood pressure or hypertension","value":"highBloodPressureOrHypertension","shortcut":""},{"label":"Prediabetes","value":"prediabetes","shortcut":""},{"label":"Diabetes","value":"diabetes","shortcut":""},{"label":"High cholesterol","value":"highCholesterol","shortcut":""},{"label":"Cardiovascular disease (e.g. heart disease, heart attack, stroke, angina, bypass, stent, etc.)","value":"cardiovascularDiseaseEGHeartDiseaseHeartAttackStrokeAnginaBypassStentEtc","shortcut":""},{"label":"Cardiac arrhythmias","value":"cardiacArrhythmias","shortcut":""},{"label":"Cancer","value":"cancer","shortcut":""},{"label":"Sleep apnea","value":"sleepApnea","shortcut":""},{"label":"PCOS","value":"pcos","shortcut":""},{"label":"Fatty liver or elevated liver enzymes","value":"fattyLiverOrElevatedLiverEnzymes","shortcut":""},{"label":"Kidney disease","value":"kidneyDisease","shortcut":""}],"hideLabel":true,"inputType":"checkbox","tableView":false,"defaultValue":{"":false,"pcos":false,"cancer":false,"diabetes":false,"sleepApnea":false,"prediabetes":false,"kidneyDisease":false,"highCholesterol":false,"cardiacArrhythmias":false,"overweightOrObesity":false,"highBloodPressureOrHypertension":false,"fattyLiverOrElevatedLiverEnzymes":false,"cardiovascularDiseaseEGHeartDiseaseHeartAttackStrokeAnginaBypassStentEtc":false},"hideOnChildrenHidden":false,"optionsLabelPosition":"right"}]},{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"selectBoxes2","type":"selectboxes","input":true,"label":"Select Boxes 2","values":[{"label":"Anxiety","value":"anxiety","shortcut":""},{"label":"Depression","value":"depression","shortcut":""},{"label":"Migraines","value":"migraines","shortcut":""},{"label":"Alcoholism","value":"alcoholism","shortcut":""},{"label":"Kidney stones","value":"kidneyStones","shortcut":""},{"label":"Gallstones","value":"gallstones","shortcut":""},{"label":"Glaucoma","value":"glaucoma","shortcut":""},{"label":"Seizures","value":"seizures","shortcut":""},{"label":"Pancreatitis","value":"pancreatitis","shortcut":""},{"label":"None of the above","value":"noneOfTheAbove","shortcut":""},{"label":"Other","value":"other","shortcut":""}],"hideLabel":true,"inputType":"checkbox","tableView":false,"defaultValue":{"":false,"other":false,"anxiety":false,"glaucoma":false,"seizures":false,"migraines":false,"alcoholism":false,"depression":false,"gallstones":false,"kidneyStones":false,"pancreatitis":false,"noneOfTheAbove":false},"hideOnChildrenHidden":false,"optionsLabelPosition":"right"},{"key":"other","type":"textarea","input":true,"label":"Other","tableView":true,"autoExpand":true,"placeholder":"Please explain","hideOnChildrenHidden":false}]}],"tableView":false},{"key":"22CurrentMedicationListNameDosageAndFrequencyPleaseIncludeDailyAndAsNeededPrescriptionsAndOverTheCounter","rows":2,"type":"textarea","input":true,"label":"Current medication list: Name, dosage, and frequency. Please include daily and \"as needed\" prescriptions, and over the counter","validate":{"required":true},"tableView":true,"autoExpand":true,"hideOnChildrenHidden":false},{"key":"22CurrentMedicationListNameDosageAndFrequencyPleaseIncludeDailyAndAsNeededPrescriptionsAndOverTheCounter1","rows":2,"type":"textarea","input":true,"label":"Which conditions run in the family? (Heart disease, stroke, diabetes, hypertension, high cholesterol, sleep apnea, cancer, etc)","validate":{"required":true},"tableView":true,"autoExpand":true,"description":"Please include 1st and 2nd degree relatives, and identify which relative was affected.","hideOnChildrenHidden":false},{"key":"22CurrentMedicationListNameDosageAndFrequencyPleaseIncludeDailyAndAsNeededPrescriptionsAndOverTheCounter2","rows":2,"type":"textarea","input":true,"label":"Any family history of cardiovascular disease at an early age (heart disease, heartattack, stroke, stent, bypass)? If yes, who?","validate":{"required":true},"tableView":true,"autoExpand":true,"description":"Defined as men earlier than age 55, women earlier than age 65.","hideOnChildrenHidden":false},{"key":"25AnyFamilyHistoryOfMedullaryThyroidCancerOrMultipleEndocrineNeoplasiaType2Men2ThisIsVeryRareButItIsImportantToKnowForWeightLossPurposes","type":"radio","input":true,"label":"Any family history of medullary thyroid cancer or multiple endocrine neoplasia type 2 (MEN2)? This is very rare! But it is important to know for weight loss purposes.","inline":true,"values":[{"label":"Yes","value":"yes","shortcut":""},{"label":"No","value":"no","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"}]},{"key":"page3","type":"panel","input":false,"label":"Page 3","title":"Page 3","tableView":false,"components":[{"key":"26SmokingStatusTobacco","type":"radio","input":true,"label":"Smoking status (tobacco)","inline":true,"values":[{"label":"Never smoker","value":"neverSmoker","shortcut":""},{"label":"Current smoker","value":"currentSmoker","shortcut":""},{"label":"Former smoker and quit","value":"formerSmokerAndQuit","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"28OfDrinksOfAlcoholPerWeek","type":"radio","input":true,"label":"# of drinks of alcohol per week","inline":true,"values":[{"label":"None","value":"none","shortcut":""},{"label":"1-2","value":"12","shortcut":""},{"label":"3-7","value":"37","shortcut":""},{"label":"7-14","value":"714","shortcut":""},{"label":"\u003e 14","value":"14","shortcut":""},{"label":"Other","value":"other","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"other7","type":"textfield","input":true,"label":"other","validate":{"required":true},"hideLabel":true,"tableView":true,"conditional":{"eq":"other","show":true,"when":"28OfDrinksOfAlcoholPerWeek"},"hideOnChildrenHidden":false},{"key":"29Occupation","type":"textfield","input":true,"label":"Occupation","validate":{"required":true},"tableView":true},{"key":"30SurgeriesOutsideOfDental","rows":2,"type":"textarea","input":true,"label":"Prior surgeries","validate":{"required":true},"tableView":true,"autoExpand":true},{"key":"columns6","type":"columns","input":false,"label":"Columns","columns":[{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"31WhatIsYourCurrentWeight","type":"textfield","input":true,"label":"What is your current weight?","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"32WhatIsYourHeight","type":"textfield","input":true,"label":"What is your height?","validate":{"required":true},"tableView":true,"hideOnChildrenHidden":false}]}],"tableView":false},{"key":"33WhatIsTheMostYouHaveEverWeighedInYourAdultLife","type":"textfield","input":true,"label":"What is the most you have ever weighed in your adult life?","validate":{"required":true},"tableView":true},{"key":"34WhatIsTheLeastYouHaveWeighedInYourAdultLife","type":"textfield","input":true,"label":"What is the least you have weighed in your adult life?","validate":{"required":true},"tableView":true},{"key":"35WhatIsYourGoalWeight","type":"textfield","input":true,"label":"What is your goal weight?","validate":{"required":true},"tableView":true},{"key":"36DoYouHaveAnyOtherGoalsBesidesLosingWeight","rows":2,"type":"textarea","input":true,"label":"Do you have any other goals besides losing weight?","validate":{"required":true},"tableView":true,"autoExpand":true},{"key":"36DoYouHaveAnyOtherGoalsBesidesLosingWeight1","rows":2,"type":"textarea","input":true,"label":"Which diets have been effective for you in the past, and which diets were not effective? How much weight did you lose and how long did you keep it off?","validate":{"required":true},"tableView":true,"autoExpand":true},{"key":"36DoYouHaveAnyOtherGoalsBesidesLosingWeight2","rows":2,"type":"textarea","input":true,"label":"What do you feel are barriers to losing weight?","validate":{"required":true},"tableView":true,"autoExpand":true}]},{"key":"page4","type":"panel","input":false,"label":"Page 4","title":"Page 4","tableView":false,"components":[{"key":"39HowDoYouFeelAboutCooking","type":"radio","input":true,"label":"How do you feel about cooking?","inline":false,"values":[{"label":"I love to cook!","value":"iLoveToCook","shortcut":""},{"label":"I like cooking","value":"iLikeCooking","shortcut":""},{"label":"I don't like cooking, but don't mind doing it occasionally","value":"iDontLikeCookingButDontMindDoingItOccasionally","shortcut":""},{"label":"I hate cooking and please don't ask me to!","value":"iHateCookingAndPleaseDontAskMeTo","shortcut":""},{"label":"My partner does most of the cooking","value":"myPartnerDoesMostOfTheCooking","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"40HowManyTimesPerWeekDoYouOrYourPartnerGenerallyCook","type":"radio","input":true,"label":"How many times per week do you (or your partner) generally cook?","inline":true,"values":[{"label":"Not at all","value":"notAtAll","shortcut":""},{"label":"1","value":"1","shortcut":""},{"label":"2-3","value":"23","shortcut":""},{"label":"4-5","value":"45","shortcut":""},{"label":"6-7","value":"67","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"41WhenCookingDoYouGenerallyThriveWhenFlExibleAndHavingManyRecipesToChooseFromOrWouldYouPreferAStructuredMealPlan","type":"radio","input":true,"label":"When cooking, do you generally thrive when fl exible and having many recipes to choose from, or would you prefer a structured meal plan?","inline":false,"values":[{"label":"Flexible! I like to find my own recipes and plan my supermarket trips accordingly","value":"flexibleILikeToFindMyOwnRecipesAndPlanMySupermarketTripsAccordingly","shortcut":""},{"label":"Structure! Please just tell me exactly what to do and buy","value":"structurePleaseJustTellMeExactlyWhatToDoAndBuy","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"42IfYouLiveWithAPartnerOrSpouseAndStartADietWouldYourPartnerAlsoDietWithYou","type":"radio","input":true,"label":"If you live with a partner or spouse and start a diet, would your partner also diet with you?","inline":false,"values":[{"label":"Yes, we would likely diet together and mostly cook/eat the same foods","value":"yesWeWouldLikelyDietTogetherAndMostlyCookEatTheSameFoods","shortcut":""},{"label":"No, my partner isn't interested in dieting. I'm on my own here!","value":"noMyPartnerIsntInterestedInDietingImOnMyOwnHere","shortcut":""},{"label":"I do not live with a partner","value":"iDoNotLiveWithAPartner","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"43HowIsYourAppetiteFirstThingInTheMorning","type":"radio","input":true,"label":"How is your appetite first thing in the morning?","inline":false,"values":[{"label":"I'm starving! If I don't eat breakfast or a snack I'll feel sluggish","value":"imStarvingIfIDontEatBreakfastOrASnackIllFeelSluggish","shortcut":""},{"label":"Something in the middle","value":"somethingInTheMiddle","shortcut":""},{"label":"Pretty low, I'll usually skip breakfast or just have a coffee or tea, and feel fi ne until lunch","value":"prettyLowIllUsuallySkipBreakfastOrJustHaveACoffeeOrTeaAndFeelFiNeUntilLunch","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"44HowDoYouFeelAboutMeat","type":"radio","input":true,"label":"How do you feel about meat?","inline":false,"values":[{"label":"I love meat!","value":"iLoveMeat","shortcut":""},{"label":"I like meat, but would be okay eating a little less","value":"iLikeMeatButWouldBeOkayEatingALittleLess","shortcut":""},{"label":"I don't like meat, and am already mostly a vegetarian or vegan","value":"iDontLikeMeatAndAmAlreadyMostlyAVegetarianOrVegan","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"45HowDoYouFeelAboutGrainsAndStarchyCarbsBreadPastaRicePotatoesEtc","type":"radio","input":true,"label":"How do you feel about grains and starchy carbs (bread, pasta, rice, potatoes, etc)","inline":false,"values":[{"label":"I love them!","value":"iLoveThem","shortcut":""},{"label":"I like them, but would be okay eating a little less","value":"iLikeThemButWouldBeOkayEatingALittleLess","shortcut":""},{"label":"I already eat low carb","value":"iAlreadyEatLowCarb","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"45HowDoYouFeelAboutGrainsAndStarchyCarbsBreadPastaRicePotatoesEtc1","type":"radio","input":true,"label":"What is your relationship with sweets (chocolate, ice cream, candy, baked goods, etc.)?","inline":false,"values":[{"label":"I love them!","value":"iLoveThem","shortcut":""},{"label":"I like sweets, but would be okay eating a little less","value":"iLikeSweetsButWouldBeOkayEatingALittleLess","shortcut":""},{"label":"I already don't eat a lot of sweets","value":"iAlreadyDontEatALotOfSweets","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"content6","html":"\u003cp\u003eWhat are the most typical things you eat day-to-day?\u003c/p\u003e","type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"columns7","type":"columns","input":false,"label":"Columns","columns":[{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"breakfast1","type":"textarea","input":true,"label":"Breakfast","validate":{"required":true},"tableView":true,"autoExpand":false,"hideOnChildrenHidden":false},{"key":"lunch1","type":"textarea","input":true,"label":"Lunch","validate":{"required":true},"tableView":true,"autoExpand":false,"hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"dinner1","type":"textarea","input":true,"label":"Dinner","validate":{"required":true},"tableView":true,"autoExpand":false,"hideOnChildrenHidden":false},{"key":"drinks","type":"textarea","input":true,"label":"Snacks","validate":{"required":true},"tableView":true,"autoExpand":false,"hideOnChildrenHidden":false}]}],"tableView":false},{"key":"48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater","rows":2,"type":"textarea","input":true,"label":"What drinks do you consume on a regular basis besides water?","validate":{"required":true},"tableView":true,"autoExpand":true},{"key":"48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater1","rows":2,"type":"textarea","input":true,"label":"What are some of your favorite comfort foods that you feel like would be difficult to give up?","validate":{"required":true},"tableView":true,"autoExpand":true}],"collapsible":false,"buttonSettings":{"next":true,"cancel":true,"previous":true},"breadcrumbClickable":true},{"key":"page5","type":"panel","input":false,"label":"Page 5","title":"Page 5","tableView":false,"components":[{"key":"50HowManyHoursOfSleepDoYouGetOnAverage","type":"radio","input":true,"label":"How many hours of sleep do you get on average?","inline":true,"values":[{"label":"4 or less","value":"4OrLess","shortcut":""},{"label":"5 - 6","value":"56","shortcut":""},{"label":"6 - 7","value":"67","shortcut":""},{"label":"7 - 8","value":"78","shortcut":""},{"label":"8 +","value":"8","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"51HowDoYouFeelAboutExercise","type":"radio","input":true,"label":"How do you feel about exercise?","inline":true,"values":[{"label":"I love to exercise","value":"iLoveToExercise","shortcut":""},{"label":"I like to exercise","value":"iLikeToExercise","shortcut":""},{"label":"I don't like to exercise","value":"iDontLikeToExercise","shortcut":""},{"label":"I hate exercise!","value":"iHateExercise","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"52HowManyMinutesPerWeekDoYouCurrentlyExercise","type":"radio","input":true,"label":"How many minutes per week do you currently exercise?","inline":true,"values":[{"label":"\u003c 30","value":"30","shortcut":""},{"label":"30 - 60","value":"3060","shortcut":""},{"label":"60 - 90","value":"6090","shortcut":""},{"label":"90 - 120","value":"90120","shortcut":""},{"label":"\u003e 150","value":"150","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater2","rows":2,"type":"textarea","input":true,"label":"What do you currently do for exercise? What types of exercise do you love?","validate":{"required":true},"tableView":true,"autoExpand":true},{"key":"48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater3","rows":2,"type":"textarea","input":true,"label":"Anything you absolutely don't like doing for exercise due to lack of enjoyment, or physical constraints?","validate":{"required":true},"tableView":true,"autoExpand":true},{"key":"55WhatAreYourThoughtsOnWeightLossMedications","type":"radio","input":true,"label":"What are your thoughts on weight loss medications?","inline":false,"values":[{"label":"I'm interested to learn more, and potentially start a medication right away","value":"imInterestedToLearnMoreAndPotentiallyStartAMedicationRightAway","shortcut":""},{"label":"I'm interested to learn more, but would like to try lifestyle changes alone first","value":"imInterestedToLearnMoreButWouldLikeToTryLifestyleChangesAloneFirst","shortcut":""},{"label":"I'm not interested in a medication at this time","value":"imNotInterestedInAMedicationAtThisTime","shortcut":""},{"label":"I don't think I would ever be interested in weight loss medications","value":"iDontThinkIWouldEverBeInterestedInWeightLossMedications","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater4","rows":2,"type":"textarea","input":true,"label":"If you've already tried a weight loss medication in the past, please let us know which one(s) you tried. When did you take them, and how much weight did you lose? Were there any side effects?","tableView":true,"autoExpand":true},{"key":"ifYouAreInterestedInMedicationsIsThereAParticularMedicationYouWouldLikeToLearnMoreAbout","type":"textarea","input":true,"label":"If you are interested in medications, is there a particular medication you would like to learn more about?","tableView":true,"autoExpand":true},{"key":"57WhatAreYourThoughtsOnBariatricWeightLossProcedures","type":"radio","input":true,"label":"What are your thoughts on bariatric / weight loss surgery?","inline":false,"values":[{"label":"I've already had a bariatric procedure","value":"iveAlreadyHadABariatricProcedure","shortcut":""},{"label":"I have actively considered a procedure in the past, but didn't come around to pull the trigger yet","value":"iHaveActivelyConsideredAProcedureInThePastButDidntComeAroundToPullTheTriggerYet","shortcut":""},{"label":"I've thought about it in the past, but just casually","value":"iveThoughtAboutItInThePastButJustCasually","shortcut":""},{"label":"I've never thought about it","value":"iveNeverThoughtAboutIt","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater5","rows":2,"type":"textarea","input":true,"label":"Anything else we should know about you, or thoughts, prior to starting a weight loss program that isn't included above?","tableView":true,"autoExpand":true},{"key":"59DoWeHaveYourPermissionToPullYourPriorLabResultsFromLabCorpOrQuestIfAvailable","type":"radio","input":true,"label":"Do we have your permission to pull your prior lab results from LabCorp or Quest, if available?","inline":true,"values":[{"label":"Yes","value":"yes","shortcut":""},{"label":"No","value":"no","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"content7","html":"\u003cp\u003eIf you have a digital copy of your most recent routine bloodwork results, please upload those here. If you need to upload more than 1 document, please email the attachments to info@revolutionmed.com\u003c/p\u003e","type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"medicalCard4","path":"medicalCard","type":"columns","input":false,"label":"Medical Card","columns":[{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[{"key":"primary_card_front2","type":"file","image":true,"input":true,"label":"Files submitted","webcam":true,"storage":"base64","redrawOn":"data","fileTypes":[{"label":"","value":""}],"imageSize":"300","tableView":false,"fileMaxSize":"15MB","hideOnChildrenHidden":false}]},{"pull":0,"push":0,"size":"md","width":6,"offset":0,"components":[]}],"tableView":false},{"key":"59DoWeHaveYourPermissionToPullYourPriorLabResultsFromLabCorpOrQuestIfAvailable1","type":"radio","input":true,"label":"Do we have your permission to check your insurance to see which weight loss medications may be covered for you?","inline":true,"values":[{"label":"Yes","value":"yes","shortcut":""},{"label":"No","value":"no","shortcut":""}],"validate":{"required":true},"tableView":false,"optionsLabelPosition":"right"},{"key":"content8","html":"\u003cp\u003eOur patient consent forms are listed below for your records. These forms will also be available in the Athena patient portal.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e**Please right-click the links to open them in a new tab, to not lose your place in the form**\u003c/strong\u003e\u003c/p\u003e","type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"content9","html":"\u003cp\u003e\u003ca href=\"https://drive.google.com/file/d/1bHAlBghsXFwfXnSNvywVLLLVwUCrZaSM/view?usp=drive_link\"\u003e\u003cstrong\u003ePatient consent form\u003c/strong\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"https://drive.google.com/file/d/1l4N_SLYoX7x8u9Qdgq0t7Dp_BYBNhGnt/view?usp=sharing\"\u003e\u003cstrong\u003eMembership terms of service\u003c/strong\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"https://drive.google.com/file/d/1UFWPpa2I59C_AQ4vGhbbKaPmdi5esiOC/view?usp=sharing\"\u003e\u003cstrong\u003eHIPAA privacy notice\u003c/strong\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"https://drive.google.com/file/d/1DwYVryeA-_qZhP3rwmW7A1_BX7jcpf_u/view?usp=sharing\"\u003e\u003cstrong\u003eNotice of privacy practices\u003c/strong\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"https://drive.google.com/file/d/1BMmKKOoiwk-3quG4W_Y1kpgXvwDP9nFy/view?usp=sharing\"\u003e\u003cstrong\u003eGroup visit consent form\u003c/strong\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"https://drive.google.com/file/d/1aX6LZ-FY4W5o9jQ5GaDCqm8tge7UjR9x/view?usp=drive_link\"\u003e\u003cstrong\u003eNo show / late cancellation fee\u003c/strong\u003e\u003c/a\u003e\u003cbr\u003e\u003ca href=\"https://drive.google.com/file/d/1lPntENLGRWLSUJNW-vjl3khTVjmBNUL2/view?usp=drive_link\"\u003e\u003cstrong\u003eFitness Coaching Liability Waiver\u003c/strong\u003e\u003c/a\u003e\u003c/p\u003e","type":"content","input":false,"label":"Content","tableView":false,"refreshOnChange":false},{"key":"radio1","type":"radio","input":true,"label":"Radio","inline":false,"values":[{"label":"I have reviewed the forms and documents, and consent","value":"iHaveReviewedTheFormsAndDocumentsAndConsent","shortcut":""}],"validate":{"required":true},"hideLabel":true,"tableView":false,"optionsLabelPosition":"right"},{"key":"signature","type":"signature","input":true,"label":"Signature","tableView":false}]}]};
  const originalData = {"first_name":"CONNOR","last_name":"JONES","email":"caj2135@gmail.com","mobile_number":"(847) 345-4390","address_1":"123 Main St","zip_code":"94105","city":"San Francisco","state":"CA","preferred_name":"","sex":"male","4GenderIdentity":"male","patient_db":"05/18/1992","race":"white","ethnicity":"nonHispanicOrLatino","insurancePolicyName":"Blue Cross Blue Shield","insurancePolicyMemberId":"123456789","primary_card_front":[],"primary_card_back":[],"13IfYouHaveMedicareIsMedicareYourPrimaryOrSecondaryInsurance":"iDontHaveMedicare","weAreInNetworkWithBlueCrossPlansAetnaUnitedCignaSentaraMedicareTricareIfYourPlanIsOutOfNetworkPleaseAcknowledgeOurSelfPayRatesOf250IntakeAppointmentsAnd150FollowUpAppointmentsToBeBilledToYourCardOnFileIfYouHaveAnyInsuranceStatusQuestionsPriorToYourIntakeAppointmentPleaseCallTheFrontDeskAt2025968891OrEmailInfoRevolutionmedCom":"acknowledged","15WhatIsYourPreferredPharmacyPleaseIncludeNameAndAddress":"Walgreens, 134 Front St","16DoYouKnowYourHealthInsurersPreferredLab":"imNotSure","17PrimaryCarePhysicianPcp":"none","phoneNo":"(123) 456-7890","18PleaseListAllSpecialistsThatYouSeeRegularlyAndTheirFiEldOfMedicine":"none","19HowDidYouHearAboutRevolutionPleaseLetUsKnowIfYouHadASpecificReferralSoWeCanThankThem":"online","20DrugAllergies":"other","selectBoxes1":{"overweightOrObesity":true,"highBloodPressureOrHypertension":true,"prediabetes":false,"diabetes":true,"highCholesterol":false,"cardiovascularDiseaseEGHeartDiseaseHeartAttackStrokeAnginaBypassStentEtc":false,"cardiacArrhythmias":false,"cancer":false,"sleepApnea":false,"pcos":false,"fattyLiverOrElevatedLiverEnzymes":false,"kidneyDisease":false},"selectBoxes2":{"":false,"other":false,"anxiety":false,"glaucoma":false,"seizures":false,"migraines":false,"alcoholism":false,"depression":false,"gallstones":false,"kidneyStones":false,"pancreatitis":false,"noneOfTheAbove":false},"other":"","22CurrentMedicationListNameDosageAndFrequencyPleaseIncludeDailyAndAsNeededPrescriptionsAndOverTheCounter":"Lisinopril (10 mg) – for blood pressure\nMetformin (500 mg) – for diabetes","22CurrentMedicationListNameDosageAndFrequencyPleaseIncludeDailyAndAsNeededPrescriptionsAndOverTheCounter1":"diabetes, high blood pressure","22CurrentMedicationListNameDosageAndFrequencyPleaseIncludeDailyAndAsNeededPrescriptionsAndOverTheCounter2":"yes, mother","25AnyFamilyHistoryOfMedullaryThyroidCancerOrMultipleEndocrineNeoplasiaType2Men2ThisIsVeryRareButItIsImportantToKnowForWeightLossPurposes":"no","26SmokingStatusTobacco":"neverSmoker","28OfDrinksOfAlcoholPerWeek":37,"29Occupation":"Teacher","30SurgeriesOutsideOfDental":"Appendectomy (2010), Knee Surgery (2018)\n","31WhatIsYourCurrentWeight":"250","32WhatIsYourHeight":"5'10\"","33WhatIsTheMostYouHaveEverWeighedInYourAdultLife":"260","34WhatIsTheLeastYouHaveWeighedInYourAdultLife":"235","35WhatIsYourGoalWeight":"190","36DoYouHaveAnyOtherGoalsBesidesLosingWeight":"lower bp","36DoYouHaveAnyOtherGoalsBesidesLosingWeight1":"none","36DoYouHaveAnyOtherGoalsBesidesLosingWeight2":"building new habits, finding the motivation to exercise regularly, access to affordable healthy foods","39HowDoYouFeelAboutCooking":"iLoveToCook","40HowManyTimesPerWeekDoYouOrYourPartnerGenerallyCook":23,"41WhenCookingDoYouGenerallyThriveWhenFlExibleAndHavingManyRecipesToChooseFromOrWouldYouPreferAStructuredMealPlan":"structurePleaseJustTellMeExactlyWhatToDoAndBuy","42IfYouLiveWithAPartnerOrSpouseAndStartADietWouldYourPartnerAlsoDietWithYou":"iDoNotLiveWithAPartner","43HowIsYourAppetiteFirstThingInTheMorning":"imStarvingIfIDontEatBreakfastOrASnackIllFeelSluggish","44HowDoYouFeelAboutMeat":"iLoveMeat","45HowDoYouFeelAboutGrainsAndStarchyCarbsBreadPastaRicePotatoesEtc":"iLoveThem","45HowDoYouFeelAboutGrainsAndStarchyCarbsBreadPastaRicePotatoesEtc1":"iLoveThem","breakfast1":"eggs and bacon","lunch1":"burrito","dinner1":"steak, potatoes, bread","drinks":"chips, candy","48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater":"soda, coffee, sports drinks","48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater1":"ice cream","50HowManyHoursOfSleepDoYouGetOnAverage":67,"51HowDoYouFeelAboutExercise":"iDontLikeToExercise","52HowManyMinutesPerWeekDoYouCurrentlyExercise":30,"48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater2":"outdoor walks","48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater3":"running","55WhatAreYourThoughtsOnWeightLossMedications":"imInterestedToLearnMoreAndPotentiallyStartAMedicationRightAway","48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater4":"","ifYouAreInterestedInMedicationsIsThereAParticularMedicationYouWouldLikeToLearnMoreAbout":"","57WhatAreYourThoughtsOnBariatricWeightLossProcedures":"iHaveActivelyConsideredAProcedureInThePastButDidntComeAroundToPullTheTriggerYet","48WhatDrinksDoYouConsumeOnARegularBasisBesidesWater5":"","59DoWeHaveYourPermissionToPullYourPriorLabResultsFromLabCorpOrQuestIfAvailable":"yes","primary_card_front2":[],"59DoWeHaveYourPermissionToPullYourPriorLabResultsFromLabCorpOrQuestIfAvailable1":"yes","radio1":"iHaveReviewedTheFormsAndDocumentsAndConsent","signature":"data:image/png;base64,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BAgQIECAAAECBAgQIECAQEYBwUpGbFMRIECAAAECBAgQIECAAAECZQkIVsrqp2oIECBAgAABAgQIECBAgACBjAKClYzYpiJAgAABAgQIECBAgAABAgTKEhCslNVP1RAgQIAAAQIECBAgQIAAAQIZBQQrGbFNRYAAAQIECBAgQIAAAQIECJQlIFgpq5+qIUCAAAECBAgQIECAAAECBDIKCFYyYpuKAAECBAgQIECAAAECBAgQKEtAsFJWP1VDgAABAgQIECBAgAABAgQIZBQQrGTENhUBAgQIECBAgAABAgQIECBQloBgpax+qoYAAQIECBAgQIAAAQIECBDIKCBYyYhtKgIECBAgQIAAAQIECBAgQKAsAcFKWf1UDQECBAgQIECAAAECBAgQIJBRQLCSEdtUBAgQIECAAAECBAgQIECAQFkCgpWy+qkaAgQIECBAgAABAgQIECBAIKOAYCUjtqkIECBAgAABAgQIECBAgACBsgQEK2X1UzUECBAgQIAAAQIECBAgQIBARgHBSkZsUxEgQIAAAQIECBAgQIAAAQJlCQhWyuqnaggQIECAAAECBAgQIECAAIGMAoKVjNimIkCAAAECBAgQIECAAAECBMoSEKyU1U/VECBAgAABAgQIECBAgAABAhkFBCsZsU1FgAABAgQIECBAgAABAgQIlCUgWCmrn6ohQIAAAQIECBAgQIAAAQIEMgoIVjJim4oAAQIECBAgQIAAAQIECBAoS0CwUlY/VUOAAAECBAgQIECAAAECBAhkFBCsZMQ2FQECBAgQIECAAAECBAgQIFCWgGClrH6qhkDxApub24c1TqcbxdeqQAIECBAgQIAAAQIEhi8gWBl+j6yQAIH/CVy69OEJi4ODd2wIECBAgAABAgQIECBwoQKClQvlNzkBAl0F9vZehsnk5onLHz584ORKV0DXESBAgAABAgQIECCwFAHBylJYDUqAQGqB+AjQ1tajE8Ourt4Iu7vPU09lPAIECBAgQIAAAQIECHQWEKx0pnIhAQIXLXD6UaC4Ho8DXXRXzE+AAAECBAgQIECgbgHBSt39Vz2BUQk0nVrxONCoWmixBAgQIECAAAECBIoTEKwU11IFEShXoClYWVm5Et68+bncolVGgAABAgQIECBAgMCgBQQrg26PxREgcFqg6XEgp1bsEwIECBAgQIAAAQIELkpAsHJR8uYlQKCXwOPHO2Fj45v37hWu9OJ0EwECBAgQIECAAAEC5xQQrJwT0O0ECOQXaHokKK5idfV62N39R/4FZZ4x/vT05uajw3qn043Ms5uOAAECBAgQIECAAIHjAoIV+4EAgVEKTCY3QwwYTn+uXfs0/PTTv0ZZU9uiZ4HK8br95HSbmu8JECBAgAABAgQILFdAsLJcX6MTILAkgaaQ4fhUpT0aNO+UTqx5d/d5iAGLDwECBAgQIECAAAEC+QUEK/nNzUiAQEKBu3fvh6dPnzWOWMKjQTFA+uqrv4f9/f25agcH7xKKGooAAQIECBAgQIAAgUUEBCuLaLmWAIFBCqyv3w8//NAcrsRHg7744m+jfBfJWadUYiPiKZXp9IHTKoPclRZFgAABAgQIECBQi4BgpZZOq5NA4QJtIcTYHg0qrZ7Ct5/yCBAgQIAAAQIEKhYQrFTcfKUTKE2gLYz485THsH85KD76E1/MO+8ztoCotD2mHgIECBAgQIAAAQKnBQQr9gQBAsUJTCZfhr29V3Prio/QDPGnituCoe3tb8O9e+vF9UtBBAgQIECAAAECBMYsIFgZc/esnQCBuQJtJz/ijUM6/XFWqOJdKjY6AQIECBAgQIAAgeEKCFaG2xsrI0AggUDbKZA4xZ07t8LOzncJZlt8iLZf/bnItS1ejTsIECBAgAABAgQI1CcgWKmv5yomUKVA2+NBESX3CZa2UzW3b98KT55cTOBT5SZRNAECBAgQIECAAIEeAoKVHmhuIUBgnAJtQcasqhhorKxcCWtrNw7/9eLFy/D27W9H/4uP5pz349Gf8wq6nwABAgQIECBAgMAwBAQrw+iDVRAgkFGgy+NBbcuJp1uOhy2z61+//iX88cf+USgT/z/7X/w7vlQ3BjzzPh79aZP3PQECBAgQIECAAIFhCQhWhtUPqyFAIJNADDdiwHLWrwdlWsrRNB79yS1uPgIECBAgQIAAAQLnFxCsnN/QCAQIjFwgxQmW8xLkfr/LedfrfgIECBAgQIAAAQIE/hQQrNgJBAgQCOHw9Er8bG09yurhp5SzcpuMAAECBAgQIECAQHIBwUpyUgMSIFCCwPH3oMxeVhv/F19k2/aelLb6Z+NNpw9Cihfhts3newIECBAgQIAAAQIElicgWFmerZEJEKhEYBbCHA9JTr+gVoBSyWZQJgECBAgQIECAQHUCgpXqWq5gAgQIECBAgAABAgQIECBAIJWAYCWVpHEIECBAgAABAgQIECBAgACB6gQEK9W1XMEECBAgQIAAAQIECBAgQIBAKgHBSipJ4xAgQIAAAQIECBAgQIAAAQLVCQhWqmu5ggkQIECAAAECBAgQIECAAIFUAoKVVJLGIUCAAAECBAgQIECAAAECBKoTEKxU13IFEyBAgAABAgQIECBAgAABAqkEBCupJI1DgAABAgQIECBAgAABAgQIVCcgWKmu5QomQIAAAQIECBAgQIAAAQIEUgkIVlJJGocAAQIECBAgQIAAAQIECBCoTkCwUl3LFUyAAAECBAgQIECAAAECBAikEhCspJI0DgECBAgQIECAAAECBAgQIFCdgGClupYrmAABAgQIECBAgAABAgQIEEglIFhJJWkcAgQIECBAgAABAgQIECBAoDoBwUp1LVcwAQIECBAgQIAAAQIECBAgkEpAsJJK0jgECBAgQIAAAQIECBAgQIBAdQKCleparmACBAgQIECAAAECBAgQIEAglYBgJZWkcQgQIECAAAECBAgQIECAAIHqBAQr1bVcwQQIECBAgAABAgQIECBAgEAqAcFKKknjECBAgAABAgQIECBAgAABAtUJCFaqa7mCCRAgQIAAAQIECBAgQIAAgVQCgpVUksYhQIAAAQIECBAgQIAAAQIEqhMQrFTXcgUTIECAAAECBAgQIECAAAECqQQEK6kkjUOAAAECBAgQIECAAAECBAhUJyBYqa7lCiZAgAABAgQIECBAgAABAgRSCQhWUkkahwABAgQIECBAgAABAgQIEKhOQLBSXcsVTIAAAQIECBAgQIAAAQIECKQSEKykkjQOAQIECBAgQIAAAQIECBAgUJ2AYKW6liuYAAECBAgQIECAAAECBAgQSCUgWEklaRwCBAgQIECAAAECBAgQIECgOgHBSnUtVzABAgQIECBAgAABAgQIECCQSkCwkkrSOAQIECBAgAABAgQIECBAgEB1AoKV6lquYAIECBAgQIAAAQIECBAgQCCVgGAllaRxCBAgQIAAAQIECBAgQIAAgeoEBCvVtVzBBAgQIECAAAECBAgQIECAQCoBwUoqSeMQIECAAAECBAgQIECAAAEC1QkIVqpruYIJECBAgAABAgQIECBAgACBVAKClVSSxiFAgAABAgQIECBAgAABAgSqExCsVNdyBRMgQIAAAQIECBAgQIAAAQKpBAQrqSSNQ4AAAQIECBAgQIAAAQIECFQnIFipruUKJkCAAAECBAgQIECAAAECBFIJCFZSSRqHAAECBAgQIECAAAECBAgQqE5AsFJdyxVMgAABAgQIECBAgAABAgQIpBIQrKSSNA4BAgQIECBAgAABAgQIECBQnYBgpbqWK5gAAQIECBAgQIAAAQIECBBIJSBYSSVpHAIECBAgQIAAAQIECBAgQKA6AcFKdS1XMAECBAgQIECAAAECBAgQIJBKQLCSStI4BAgQIECAAAECBAgQIECAQHUCgpXqWq5gAgQIECBAgAABAgQIECBAIJWAYCWVpHEIECBAgAABAgQIECBAgACB6gT+C8DbUgsQQ3ZmAAAAAElFTkSuQmCC","phone_number":"8473454390","other5":"penicillin"};

  const birthDateComponent = FormioUtils.getComponent(formioSchema.components, 'birth_date')
  const isBirthDateDatetimeComponent = birthDateComponent?.type == "datetime"

  if (isBirthDateDatetimeComponent && birthDateComponent.format && originalData.birth_date) {
    const birthDateFormat = birthDateComponent.format.toUpperCase()
    const momentDate = FormioUtils.moment(new Date(originalData.birth_date))
    const formattedBirthDate = FormioUtils.moment(momentDate.format(birthDateFormat), birthDateFormat)

    if (formattedBirthDate.isValid()) {
      originalData.birth_date = formattedBirthDate.toISOString()
    } else {
      console.error(`Invalid birthdate. Expected format: ${birthDateFormat}. Received: ${formattedDate}`)
    }
  }

  FormioUtils.searchComponents(formioSchema.components, { type: 'file' }).forEach((component) => {
    if(Array.isArray(component.filePattern)) {
      const imageTypes = ['.png', '.jpg', '.jpeg', '.gif', '.bmp']
      component.image = component.image || component.filePattern.every((pattern) => imageTypes.includes(pattern))
      component.filePattern = component.filePattern.join(",")
    }
  })

  const tz = "America/New_York"

  const dateTimeComponents = FormioUtils.findComponents(formioSchema.components, {'type': 'datetime'})

  if(dateTimeComponents.length > 0) {
    const filteredComponents = dateTimeComponents.filter((c) => c.key != 'birth_date')
    filteredComponents.forEach((component) =>{
      const currentValue = originalData[component.key]

      if(!currentValue) return;

      const date = new Date(currentValue);

      const dateInTz = new Date(
        date.toLocaleString('en-US', { timeZone: 'America/New_York' })
      );

      try {
        originalData[component.key] = dateInTz.toISOString();
      } catch (error) {
        console.error(`Invalid date for ${component.key}, value ${dateInTz}:`, error);
        // if we hit this, we most likey have an invalid date and no way of knowing what the correct date is
        // use this as a fallback 
        originalData[component.key] = null;
      }
    })
  }



  function postToParent(action, payload=null) {
    var message = payload || {}
    message.action = action
    message.formRequestId = '08b96a32-9d78-49fd-b4a2-d743bc0fad42'
    parent.postMessage(JSON.stringify(message), "https://app.nexhealth.com")
  }

  // Some of these custom components we have created in Enlive but on Backend formio is not recognizing them and we
  // have to change the type property to the component type it inherits from, so that the input values are assigned properly.
  // See custom components here https://github.com/nex-health/enlive-PDFWebServer/tree/master/static_raw/pdf_webserver/js/components
  function updateComponentType(node) {
    switch(node.type) {
      case "insurance":
        node.type = "container"
        break;
    }

    const components = node.components || []
    components.forEach(component => updateComponentType(component))
  }

  updateComponentType(formioSchema)

  function sendFormData(sync) {
    const submittedFormData = theForm.data
    if (isBirthDateDatetimeComponent && birthDateComponent.format && submittedFormData.birth_date) {
      const birthDate = FormioUtils.moment(submittedFormData.birth_date)
      if (birthDate.isValid()) {
        submittedFormData.birth_date = birthDate.format(birthDateComponent.format.toUpperCase())
      }
    }
    const formData = { sync: sync, new_fields: submittedFormData, original_fields: originalData, formio_schema: formioSchema }
    postToParent('request_document.form_data', { form_data: formData })
  }

  window.addEventListener("message", (event) => {
    if (event.origin !== "https://app.nexhealth.com") {
      return
    }

    var message = JSON.parse(event.data);
    if (message.action === 'request_document.get_form_data') {
      sendFormData(message.sync)
    }
  })

  postToParent('request_document.loaded')

  Formio.icons = 'fontawesome'
  Formio.nexHealthToken = "Bearer <token>"
  Formio.nexHealthParams = "subdomain=Revolution_Medicine_Health_Fitness&location_id=108271&include_none=true"
  Formio.locationLogoUrl = "https://static.nexhealth.com/institutions/widelogos/000/007/725/medium/Revolution_logo_transparent_background.png?1704331906"

  Formio.createForm(
    document.getElementById('formio_holder'),
    formioSchema,
    {
      readOnly: false,
      renderMode: formioSchema.display === 'pdf' ? 'html' : 'flat',
    }
  ).then((form) => {
    theForm = form
    // make a deep copy of the original data, because file fields are being mutated by the form.io
    // and originalData will be changed as well
    form.submission = { data: JSON.parse(JSON.stringify(originalData)) }
    form.on('change', (changed) => {
      if (isEdited) {
        return
      }

      // There are a few spurious changes at the beginning, from the form being loaded to the
      // submission data being entered.  We only want actual user changes to trigger this.
      if (changed.changed && !changed.changed.flags['fromSubmission']) {
        isEdited = true
        postToParent('request_document.edited')
      }
    })
  }).catch(error => {
    postToParent('request_document.error')
  })

  // We implement our own button when the form is being edited
  const submitBtn = document.getElementsByName("data[submit]")
  if (submitBtn && submitBtn.length) {
    submitBtn[0].style.display = 'none'
  }
</script>

    <script type='module' src='https://frontend.assets.nexhealth.com/forms.esm.js' />
</body>
</html>
